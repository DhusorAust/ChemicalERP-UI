<div class="bank-wrap">
  <!-- Header -->
  <div class="card card-head">
    <div class="card-header">
      <h2 class="title">Bank</h2>
      <div class="head-right">
        <input class="form-control" placeholder="Search bank..." [(ngModel)]="search" (keyup.enter)="onSearchEnter()">
        <div class="btn-group">
          <button class="btn btn-outline" [class.btn-primary]="status==='ALL'" (click)="setStatus('ALL')">All</button>
          <button class="btn btn-outline" [class.btn-primary]="status==='EDIT'" (click)="setStatus('EDIT')">Edit</button>
          <button class="btn btn-outline" [class.btn-primary]="status==='APPROVED'" (click)="setStatus('APPROVED')">Approved</button>
        </div>
        <button class="btn btn-outline" (click)="refresh()">Refresh</button>
      </div>
    </div>
  </div>

  <!-- Grid -->
  <div class="card">
    <div class="card-body">
      <div *ngIf="loading" class="alert info">Loading...</div>
      <div *ngIf="error" class="alert danger">{{ error }}</div>

      <div class="table-responsive" *ngIf="!loading">
        <table class="table">
          <thead>
            <tr>
              <th (click)="toggleSort('BankID')" style="width:90px;cursor:pointer">
                ID <span *ngIf="sortField==='BankID'">{{ sortDir==='asc' ? '▲' : '▼' }}</span>
              </th>
              <th (click)="toggleSort('BankName')" style="cursor:pointer">
                Bank Name <span *ngIf="sortField==='BankName'">{{ sortDir==='asc' ? '▲' : '▼' }}</span>
              </th>
              <th (click)="toggleSort('BankShortName')" style="cursor:pointer">
                Short <span *ngIf="sortField==='BankShortName'">{{ sortDir==='asc' ? '▲' : '▼' }}</span>
              </th>
              <th (click)="toggleSort('SwiftCode')" style="cursor:pointer">
                Swift <span *ngIf="sortField==='SwiftCode'">{{ sortDir==='asc' ? '▲' : '▼' }}</span>
              </th>
              <th (click)="toggleSort('BankAddress')" style="cursor:pointer">
                Address <span *ngIf="sortField==='BankAddress'">{{ sortDir==='asc' ? '▲' : '▼' }}</span>
              </th>
              <th (click)="toggleSort('IsActive')" style="width:90px;cursor:pointer">
                Active <span *ngIf="sortField==='IsActive'">{{ sortDir==='asc' ? '▲' : '▼' }}</span>
              </th>
              <th (click)="toggleSort('Approved')" style="width:110px;cursor:pointer">
                Approved <span *ngIf="sortField==='Approved'">{{ sortDir==='asc' ? '▲' : '▼' }}</span>
              </th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let r of items">
              <td>{{ r.BankID }}</td>
              <td class="text-strong">{{ r.BankName }}</td>
              <td>{{ r.BankShortName || '—' }}</td>
              <td>{{ r.SwiftCode || '—' }}</td>
              <td>{{ r.BankAddress || '—' }}</td>
              <td>{{ (r.IsActive ? 1 : 0) ? 'Yes' : 'No' }}</td>
              <td>{{ (r.Approved ? 1 : 0) ? 'Yes' : 'No' }}</td>
            </tr>

            <tr *ngIf="!items.length && !loading">
              <td colspan="7" class="empty">NO DATA FOUND</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="card-footer">
        <div class="text-muted">Total: {{ total }}</div>
      </div>
    </div>
  </div>
</div>
